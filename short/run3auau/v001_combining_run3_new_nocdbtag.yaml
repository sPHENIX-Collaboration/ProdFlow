#______________________________________________________________________________________________________________________
DST_TRIGGERED_EVENT_run3physics:
  params:
    rulestem:   DST_TRIGGERED_EVENT
    period:     run3auau
    outstub:    run3auau # could be run3physics, run3calib, etc.
    physicsmode: physics
    build:      new
    dbtag:      nocdbtag
    version:    1

  input:
    db:          rawr
    table:       datasets

  job:
    script:                 run_eventcombine.sh
    arguments:             '{nevents} {outbase} {logbase} {run} {seg} {daqhost} {outdir} {finaldir} {buildarg} {tag} {inputs} None {neventsper} {logdir} {comment} {histdir} {payload}'
    log:                   '{condor}/{logbase}.condor'
    neventsper:             10000
    payload:                [triggered_code/*]
    mem:                    2024MB
    batch_name:            'mainkolja.{rulestem}_{outstub}_{dataset}'
    priority:              '3500'

#______________________________________________________________________________________________________________________
DST_STREAMING_EVENT_run3physics:
  params:
    rulestem:   DST_STREAMING_EVENT
    period:     run3auau
    outstub:    run3auau # could be run3cosmics, run3calib, etc.
    physicsmode: physics
    build:      new
    dbtag:      nocdbtag
    version:    1

  input:
    db:          rawr
    table:       datasets

  job:
    script:                 run_parallel_streams.sh
    arguments:             '{nevents} {outbase} {logbase} {run} {seg} {daqhost} {outdir} {finaldir} {buildarg} {tag} {inputs} None {neventsper} {logdir} {comment} {histdir} {payload}'
    log:                   '{condor}/{logbase}.condor'
    neventsper:             10000
    payload:                [streaming_code/*]
    mem:                    2024MB
    batch_name:            'mainkolja.{rulestem}_{outstub}_{dataset}'
    priority:              '3500'


#______________________________________________________________________________________________________________________
#______________________________________________________________________________________________________________________
# COSMICS
#______________________________________________________________________________________________________________________
#______________________________________________________________________________________________________________________

#______________________________________________________________________________________________________________________
DST_TRIGGERED_EVENT_run3cosmics:
  params:
    rulestem:   DST_TRIGGERED_EVENT
    period:     run3auau
    outstub:    run3cosmics # could be run3physics, run3calib, etc.
    physicsmode: cosmics
    build:      new
    dbtag:      nocdbtag
    version:    1

  input:
    db:          rawr
    table:       datasets

  job:
    script:                 run_eventcombine.sh
    arguments:             '{nevents} {outbase} {logbase} {run} {seg} {daqhost} {outdir} {finaldir} {buildarg} {tag} {inputs} None {neventsper} {logdir} {comment} {histdir} {payload}'
    log:                   '{condor}/{logbase}.condor'
    neventsper:             10000
    payload:                [triggered_code/*]
    mem:                    2024MB
    batch_name:            'mainkolja.{rulestem}_{outstub}_{dataset}'
    priority:              '3500'

#______________________________________________________________________________________________________________________
DST_STREAMING_EVENT_run3cosmics:
  params:
    rulestem:   DST_STREAMING_EVENT
    period:     run3auau
    outstub:    run3cosmics # could be run3cosmics, run3calib, etc.
    physicsmode: cosmics
    build:      new
    dbtag:      nocdbtag
    version:    1

  input:
    db:          rawr
    table:       datasets

  job:
    script:                 run_parallel_streams.sh
    arguments:             '{nevents} {outbase} {logbase} {run} {seg} {daqhost} {outdir} {finaldir} {buildarg} {tag} {inputs} None {neventsper} {logdir} {comment} {histdir} {payload}'
    log:                   '{condor}/{logbase}.condor'
    neventsper:             10000
    payload:                [streaming_code/*]
    mem:                    2024MB
    batch_name:            'mainkolja.{rulestem}_{outstub}_{dataset}'
    priority:              '3500'
